{"ast":null,"code":"import React from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{AssetForm}from\"../components/AssetForm\";import{useAsset,useUpdateAsset}from\"../hooks/useAssets\";import\"./EditAssetPage.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const EditAssetPage=()=>{const{id}=useParams();const navigate=useNavigate();const assetId=parseInt(id||\"0\",10);const{asset,loading:assetLoading,error:assetError}=useAsset(assetId);const{updateAsset,loading:updateLoading,error:updateError}=useUpdateAsset();const handleSubmit=async data=>{const result=await updateAsset(assetId,data);if(result){// Navigate back to the asset detail page after successful update\nnavigate(`/assets/${assetId}`);}};const handleCancel=()=>{navigate(`/assets/${assetId}`);};// Show loading state while fetching asset\nif(assetLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"edit-asset-page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-state\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading asset...\"})})});}// Show error if asset not found or failed to load\nif(assetError||!asset){return/*#__PURE__*/_jsx(\"div\",{className:\"edit-asset-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"error-state\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Asset Not Found\"}),/*#__PURE__*/_jsx(\"p\",{children:assetError||\"The requested asset could not be found.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/assets\"),className:\"btn btn-primary\",children:\"Back to Assets\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"edit-asset-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Asset\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Update information for \",asset.name]})]}),updateError&&/*#__PURE__*/_jsx(\"div\",{className:\"error-banner\",children:/*#__PURE__*/_jsx(\"p\",{children:updateError})}),/*#__PURE__*/_jsx(AssetForm,{asset:asset,onSubmit:handleSubmit,onCancel:handleCancel,loading:updateLoading,submitButtonText:\"Update Asset\"})]});};","map":{"version":3,"names":["React","useParams","useNavigate","AssetForm","useAsset","useUpdateAsset","jsx","_jsx","jsxs","_jsxs","EditAssetPage","id","navigate","assetId","parseInt","asset","loading","assetLoading","error","assetError","updateAsset","updateLoading","updateError","handleSubmit","data","result","handleCancel","className","children","onClick","name","onSubmit","onCancel","submitButtonText"],"sources":["C:/Users/amana/Desktop/s/frontend/src/pages/EditAssetPage.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { AssetForm } from \"../components/AssetForm\";\r\nimport { UpdateAssetRequest } from \"../types/asset\";\r\nimport { useAsset, useUpdateAsset } from \"../hooks/useAssets\";\r\nimport \"./EditAssetPage.css\";\r\n\r\nexport const EditAssetPage: React.FC = () => {\r\n  const { id } = useParams<{ id: string }>();\r\n  const navigate = useNavigate();\r\n  const assetId = parseInt(id || \"0\", 10);\r\n\r\n  const { asset, loading: assetLoading, error: assetError } = useAsset(assetId);\r\n  const {\r\n    updateAsset,\r\n    loading: updateLoading,\r\n    error: updateError,\r\n  } = useUpdateAsset();\r\n\r\n  const handleSubmit = async (data: UpdateAssetRequest) => {\r\n    const result = await updateAsset(assetId, data);\r\n    if (result) {\r\n      // Navigate back to the asset detail page after successful update\r\n      navigate(`/assets/${assetId}`);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    navigate(`/assets/${assetId}`);\r\n  };\r\n\r\n  // Show loading state while fetching asset\r\n  if (assetLoading) {\r\n    return (\r\n      <div className=\"edit-asset-page\">\r\n        <div className=\"loading-state\">\r\n          <p>Loading asset...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Show error if asset not found or failed to load\r\n  if (assetError || !asset) {\r\n    return (\r\n      <div className=\"edit-asset-page\">\r\n        <div className=\"error-state\">\r\n          <h1>Asset Not Found</h1>\r\n          <p>{assetError || \"The requested asset could not be found.\"}</p>\r\n          <button\r\n            onClick={() => navigate(\"/assets\")}\r\n            className=\"btn btn-primary\"\r\n          >\r\n            Back to Assets\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"edit-asset-page\">\r\n      <div className=\"page-header\">\r\n        <h1>Edit Asset</h1>\r\n        <p>Update information for {asset.name}</p>\r\n      </div>\r\n\r\n      {updateError && (\r\n        <div className=\"error-banner\">\r\n          <p>{updateError}</p>\r\n        </div>\r\n      )}\r\n\r\n      <AssetForm\r\n        asset={asset}\r\n        onSubmit={handleSubmit}\r\n        onCancel={handleCancel}\r\n        loading={updateLoading}\r\n        submitButtonText=\"Update Asset\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,OAASC,SAAS,KAAQ,yBAAyB,CAEnD,OAASC,QAAQ,CAAEC,cAAc,KAAQ,oBAAoB,CAC7D,MAAO,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7B,MAAO,MAAM,CAAAC,aAAuB,CAAGA,CAAA,GAAM,CAC3C,KAAM,CAAEC,EAAG,CAAC,CAAGV,SAAS,CAAiB,CAAC,CAC1C,KAAM,CAAAW,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAW,OAAO,CAAGC,QAAQ,CAACH,EAAE,EAAI,GAAG,CAAE,EAAE,CAAC,CAEvC,KAAM,CAAEI,KAAK,CAAEC,OAAO,CAAEC,YAAY,CAAEC,KAAK,CAAEC,UAAW,CAAC,CAAGf,QAAQ,CAACS,OAAO,CAAC,CAC7E,KAAM,CACJO,WAAW,CACXJ,OAAO,CAAEK,aAAa,CACtBH,KAAK,CAAEI,WACT,CAAC,CAAGjB,cAAc,CAAC,CAAC,CAEpB,KAAM,CAAAkB,YAAY,CAAG,KAAO,CAAAC,IAAwB,EAAK,CACvD,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAL,WAAW,CAACP,OAAO,CAAEW,IAAI,CAAC,CAC/C,GAAIC,MAAM,CAAE,CACV;AACAb,QAAQ,CAAC,WAAWC,OAAO,EAAE,CAAC,CAChC,CACF,CAAC,CAED,KAAM,CAAAa,YAAY,CAAGA,CAAA,GAAM,CACzBd,QAAQ,CAAC,WAAWC,OAAO,EAAE,CAAC,CAChC,CAAC,CAED;AACA,GAAII,YAAY,CAAE,CAChB,mBACEV,IAAA,QAAKoB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BrB,IAAA,QAAKoB,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BrB,IAAA,MAAAqB,QAAA,CAAG,kBAAgB,CAAG,CAAC,CACpB,CAAC,CACH,CAAC,CAEV,CAEA;AACA,GAAIT,UAAU,EAAI,CAACJ,KAAK,CAAE,CACxB,mBACER,IAAA,QAAKoB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BnB,KAAA,QAAKkB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BrB,IAAA,OAAAqB,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBrB,IAAA,MAAAqB,QAAA,CAAIT,UAAU,EAAI,yCAAyC,CAAI,CAAC,cAChEZ,IAAA,WACEsB,OAAO,CAAEA,CAAA,GAAMjB,QAAQ,CAAC,SAAS,CAAE,CACnCe,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAC5B,gBAED,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,CAEV,CAEA,mBACEnB,KAAA,QAAKkB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BnB,KAAA,QAAKkB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BrB,IAAA,OAAAqB,QAAA,CAAI,YAAU,CAAI,CAAC,cACnBnB,KAAA,MAAAmB,QAAA,EAAG,yBAAuB,CAACb,KAAK,CAACe,IAAI,EAAI,CAAC,EACvC,CAAC,CAELR,WAAW,eACVf,IAAA,QAAKoB,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BrB,IAAA,MAAAqB,QAAA,CAAIN,WAAW,CAAI,CAAC,CACjB,CACN,cAEDf,IAAA,CAACJ,SAAS,EACRY,KAAK,CAAEA,KAAM,CACbgB,QAAQ,CAAER,YAAa,CACvBS,QAAQ,CAAEN,YAAa,CACvBV,OAAO,CAAEK,aAAc,CACvBY,gBAAgB,CAAC,cAAc,CAChC,CAAC,EACC,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}