{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amana\\\\Desktop\\\\s\\\\frontend\\\\src\\\\contexts\\\\ToastContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useCallback } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { ToastContainer } from \"../components/Toast\";\nimport { formatError, getUserFriendlyErrorMessage } from \"../utils/errorHandler\";\nimport \"./ToastContext.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ToastContext = /*#__PURE__*/createContext(undefined);\nexport const useToast = () => {\n  _s();\n  const context = useContext(ToastContext);\n  if (!context) {\n    throw new Error(\"useToast must be used within a ToastProvider\");\n  }\n  return context;\n};\n_s(useToast, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const ToastProvider = ({\n  children\n}) => {\n  _s2();\n  const [toasts, setToasts] = useState([]);\n  const addToast = useCallback((message, type, duration = 5000) => {\n    const id = uuidv4();\n    setToasts(prevToasts => [...prevToasts, {\n      id,\n      message,\n      type,\n      duration,\n      onClose: () => {}\n    }]);\n    return id;\n  }, []);\n  const removeToast = useCallback(id => {\n    setToasts(prevToasts => prevToasts.filter(toast => toast.id !== id));\n  }, []);\n  const clearAllToasts = useCallback(() => {\n    setToasts([]);\n  }, []);\n\n  // Helper methods for different toast types\n  const showSuccess = useCallback((message, duration) => {\n    return addToast(message, \"success\", duration);\n  }, [addToast]);\n  const showError = useCallback((error, duration = 8000) => {\n    const formattedError = formatError(error);\n    const userFriendlyMessage = getUserFriendlyErrorMessage(formattedError);\n    return addToast(userFriendlyMessage, \"error\", duration);\n  }, [addToast]);\n  const showInfo = useCallback((message, duration) => {\n    return addToast(message, \"info\", duration);\n  }, [addToast]);\n  const showWarning = useCallback((message, duration) => {\n    return addToast(message, \"warning\", duration);\n  }, [addToast]);\n  const contextValue = {\n    addToast,\n    removeToast,\n    showSuccess,\n    showError,\n    showInfo,\n    showWarning,\n    clearAllToasts\n  };\n  return /*#__PURE__*/_jsxDEV(ToastContext.Provider, {\n    value: contextValue,\n    children: [children, /*#__PURE__*/_jsxDEV(ToastContainer, {\n      toasts: toasts,\n      onClose: removeToast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n};\n_s2(ToastProvider, \"LD2PKk25SlD2mKjSa3Dn7LVEcI0=\");\n_c = ToastProvider;\nvar _c;\n$RefreshReg$(_c, \"ToastProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useCallback","v4","uuidv4","ToastContainer","formatError","getUserFriendlyErrorMessage","jsxDEV","_jsxDEV","ToastContext","undefined","useToast","_s","context","Error","ToastProvider","children","_s2","toasts","setToasts","addToast","message","type","duration","id","prevToasts","onClose","removeToast","filter","toast","clearAllToasts","showSuccess","showError","error","formattedError","userFriendlyMessage","showInfo","showWarning","contextValue","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/amana/Desktop/s/frontend/src/contexts/ToastContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useCallback } from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { ToastContainer, ToastProps, ToastType } from \"../components/Toast\";\r\nimport {\r\n  ApiError,\r\n  formatError,\r\n  getUserFriendlyErrorMessage,\r\n} from \"../utils/errorHandler\";\r\nimport \"./ToastContext.css\";\r\n\r\ninterface ToastContextType {\r\n  addToast: (\r\n    message: string,\r\n    type: ToastProps[\"type\"],\r\n    duration?: number\r\n  ) => string;\r\n  removeToast: (id: string) => void;\r\n  showSuccess: (message: string, duration?: number) => string;\r\n  showError: (error: unknown, duration?: number) => string;\r\n  showInfo: (message: string, duration?: number) => string;\r\n  showWarning: (message: string, duration?: number) => string;\r\n  clearAllToasts: () => void;\r\n}\r\n\r\nconst ToastContext = createContext<ToastContextType | undefined>(undefined);\r\n\r\nexport const useToast = () => {\r\n  const context = useContext(ToastContext);\r\n  if (!context) {\r\n    throw new Error(\"useToast must be used within a ToastProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const ToastProvider: React.FC<{ children: React.ReactNode }> = ({\r\n  children,\r\n}) => {\r\n  const [toasts, setToasts] = useState<ToastProps[]>([]);\r\n\r\n  const addToast = useCallback(\r\n    (message: string, type: ToastProps[\"type\"], duration = 5000): string => {\r\n      const id = uuidv4();\r\n      setToasts((prevToasts) => [\r\n        ...prevToasts,\r\n        { id, message, type, duration, onClose: () => {} },\r\n      ]);\r\n      return id;\r\n    },\r\n    []\r\n  );\r\n\r\n  const removeToast = useCallback((id: string) => {\r\n    setToasts((prevToasts) => prevToasts.filter((toast) => toast.id !== id));\r\n  }, []);\r\n\r\n  const clearAllToasts = useCallback(() => {\r\n    setToasts([]);\r\n  }, []);\r\n\r\n  // Helper methods for different toast types\r\n  const showSuccess = useCallback(\r\n    (message: string, duration?: number): string => {\r\n      return addToast(message, \"success\", duration);\r\n    },\r\n    [addToast]\r\n  );\r\n\r\n  const showError = useCallback(\r\n    (error: unknown, duration = 8000): string => {\r\n      const formattedError = formatError(error);\r\n      const userFriendlyMessage = getUserFriendlyErrorMessage(formattedError);\r\n      return addToast(userFriendlyMessage, \"error\", duration);\r\n    },\r\n    [addToast]\r\n  );\r\n\r\n  const showInfo = useCallback(\r\n    (message: string, duration?: number): string => {\r\n      return addToast(message, \"info\", duration);\r\n    },\r\n    [addToast]\r\n  );\r\n\r\n  const showWarning = useCallback(\r\n    (message: string, duration?: number): string => {\r\n      return addToast(message, \"warning\", duration);\r\n    },\r\n    [addToast]\r\n  );\r\n\r\n  const contextValue = {\r\n    addToast,\r\n    removeToast,\r\n    showSuccess,\r\n    showError,\r\n    showInfo,\r\n    showWarning,\r\n    clearAllToasts,\r\n  };\r\n\r\n  return (\r\n    <ToastContext.Provider value={contextValue}>\r\n      {children}\r\n      <ToastContainer toasts={toasts} onClose={removeToast} />\r\n    </ToastContext.Provider>\r\n  );\r\n};\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAC/E,SAASC,EAAE,IAAIC,MAAM,QAAQ,MAAM;AACnC,SAASC,cAAc,QAA+B,qBAAqB;AAC3E,SAEEC,WAAW,EACXC,2BAA2B,QACtB,uBAAuB;AAC9B,OAAO,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAgB5B,MAAMC,YAAY,gBAAGX,aAAa,CAA+BY,SAAS,CAAC;AAE3E,OAAO,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B,MAAMC,OAAO,GAAGd,UAAU,CAACU,YAAY,CAAC;EACxC,IAAI,CAACI,OAAO,EAAE;IACZ,MAAM,IAAIC,KAAK,CAAC,8CAA8C,CAAC;EACjE;EACA,OAAOD,OAAO;AAChB,CAAC;AAACD,EAAA,CANWD,QAAQ;AAQrB,OAAO,MAAMI,aAAsD,GAAGA,CAAC;EACrEC;AACF,CAAC,KAAK;EAAAC,GAAA;EACJ,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGnB,QAAQ,CAAe,EAAE,CAAC;EAEtD,MAAMoB,QAAQ,GAAGnB,WAAW,CAC1B,CAACoB,OAAe,EAAEC,IAAwB,EAAEC,QAAQ,GAAG,IAAI,KAAa;IACtE,MAAMC,EAAE,GAAGrB,MAAM,CAAC,CAAC;IACnBgB,SAAS,CAAEM,UAAU,IAAK,CACxB,GAAGA,UAAU,EACb;MAAED,EAAE;MAAEH,OAAO;MAAEC,IAAI;MAAEC,QAAQ;MAAEG,OAAO,EAAEA,CAAA,KAAM,CAAC;IAAE,CAAC,CACnD,CAAC;IACF,OAAOF,EAAE;EACX,CAAC,EACD,EACF,CAAC;EAED,MAAMG,WAAW,GAAG1B,WAAW,CAAEuB,EAAU,IAAK;IAC9CL,SAAS,CAAEM,UAAU,IAAKA,UAAU,CAACG,MAAM,CAAEC,KAAK,IAAKA,KAAK,CAACL,EAAE,KAAKA,EAAE,CAAC,CAAC;EAC1E,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMM,cAAc,GAAG7B,WAAW,CAAC,MAAM;IACvCkB,SAAS,CAAC,EAAE,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMY,WAAW,GAAG9B,WAAW,CAC7B,CAACoB,OAAe,EAAEE,QAAiB,KAAa;IAC9C,OAAOH,QAAQ,CAACC,OAAO,EAAE,SAAS,EAAEE,QAAQ,CAAC;EAC/C,CAAC,EACD,CAACH,QAAQ,CACX,CAAC;EAED,MAAMY,SAAS,GAAG/B,WAAW,CAC3B,CAACgC,KAAc,EAAEV,QAAQ,GAAG,IAAI,KAAa;IAC3C,MAAMW,cAAc,GAAG7B,WAAW,CAAC4B,KAAK,CAAC;IACzC,MAAME,mBAAmB,GAAG7B,2BAA2B,CAAC4B,cAAc,CAAC;IACvE,OAAOd,QAAQ,CAACe,mBAAmB,EAAE,OAAO,EAAEZ,QAAQ,CAAC;EACzD,CAAC,EACD,CAACH,QAAQ,CACX,CAAC;EAED,MAAMgB,QAAQ,GAAGnC,WAAW,CAC1B,CAACoB,OAAe,EAAEE,QAAiB,KAAa;IAC9C,OAAOH,QAAQ,CAACC,OAAO,EAAE,MAAM,EAAEE,QAAQ,CAAC;EAC5C,CAAC,EACD,CAACH,QAAQ,CACX,CAAC;EAED,MAAMiB,WAAW,GAAGpC,WAAW,CAC7B,CAACoB,OAAe,EAAEE,QAAiB,KAAa;IAC9C,OAAOH,QAAQ,CAACC,OAAO,EAAE,SAAS,EAAEE,QAAQ,CAAC;EAC/C,CAAC,EACD,CAACH,QAAQ,CACX,CAAC;EAED,MAAMkB,YAAY,GAAG;IACnBlB,QAAQ;IACRO,WAAW;IACXI,WAAW;IACXC,SAAS;IACTI,QAAQ;IACRC,WAAW;IACXP;EACF,CAAC;EAED,oBACEtB,OAAA,CAACC,YAAY,CAAC8B,QAAQ;IAACC,KAAK,EAAEF,YAAa;IAAAtB,QAAA,GACxCA,QAAQ,eACTR,OAAA,CAACJ,cAAc;MAACc,MAAM,EAAEA,MAAO;MAACQ,OAAO,EAAEC;IAAY;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACnC,CAAC;AAE5B,CAAC;AAAC3B,GAAA,CAxEWF,aAAsD;AAAA8B,EAAA,GAAtD9B,aAAsD;AAAA,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}