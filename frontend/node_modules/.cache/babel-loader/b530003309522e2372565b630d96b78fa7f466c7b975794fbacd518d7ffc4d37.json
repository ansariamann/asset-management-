{"ast":null,"code":"import{useState,useEffect,useCallback}from\"react\";import{AssetApi}from\"../services/assetApi\";import{ApiException}from\"../types\";/**\r\n * Custom hook for managing asset list with filtering and pagination\r\n */export const useAssets=initialFilters=>{const[data,setData]=useState({assets:[],total:0,page:1,pageSize:20,totalPages:0});const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const fetchAssets=useCallback(async filters=>{setLoading(true);setError(null);try{const response=await AssetApi.getAssets(filters);setData(response);}catch(err){if(err instanceof ApiException){setError(err.message);}else{setError(\"Failed to fetch assets\");}}finally{setLoading(false);}},[]);useEffect(()=>{fetchAssets(initialFilters);},[fetchAssets,initialFilters]);return{assets:data.assets,total:data.total,page:data.page,pageSize:data.pageSize,totalPages:data.totalPages,loading,error,refetch:fetchAssets};};/**\r\n * Custom hook for fetching a single asset by ID\r\n */export const useAsset=id=>{const[asset,setAsset]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const fetchAsset=useCallback(async()=>{setLoading(true);setError(null);try{const response=await AssetApi.getAsset(id);setAsset(response);}catch(err){if(err instanceof ApiException){setError(err.message);}else{setError(\"Failed to fetch asset\");}}finally{setLoading(false);}},[id]);useEffect(()=>{if(id){fetchAsset();}},[fetchAsset,id]);return{asset,loading,error,refetch:fetchAsset};};/**\r\n * Custom hook for creating assets\r\n */export const useCreateAsset=()=>{const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const createAsset=useCallback(async asset=>{setLoading(true);setError(null);try{const response=await AssetApi.createAsset(asset);return response;}catch(err){if(err instanceof ApiException){setError(err.message);}else{setError(\"Failed to create asset\");}return null;}finally{setLoading(false);}},[]);return{createAsset,loading,error};};/**\r\n * Custom hook for updating assets\r\n */export const useUpdateAsset=()=>{const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const updateAsset=useCallback(async(id,asset)=>{setLoading(true);setError(null);try{const response=await AssetApi.updateAsset(id,asset);return response;}catch(err){if(err instanceof ApiException){setError(err.message);}else{setError(\"Failed to update asset\");}return null;}finally{setLoading(false);}},[]);return{updateAsset,loading,error};};/**\r\n * Custom hook for deleting assets\r\n */export const useDeleteAsset=()=>{const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const deleteAsset=useCallback(async id=>{setLoading(true);setError(null);try{await AssetApi.deleteAsset(id);return true;}catch(err){if(err instanceof ApiException){setError(err.message);}else{setError(\"Failed to delete asset\");}return false;}finally{setLoading(false);}},[]);return{deleteAsset,loading,error};};/**\r\n * Custom hook for fetching asset categories\r\n */export const useCategories=()=>{const[categories,setCategories]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const fetchCategories=useCallback(async()=>{setLoading(true);setError(null);try{const response=await AssetApi.getCategories();setCategories(response);}catch(err){if(err instanceof ApiException){setError(err.message);}else{setError(\"Failed to fetch categories\");}}finally{setLoading(false);}},[]);useEffect(()=>{fetchCategories();},[fetchCategories]);return{categories,loading,error,refetch:fetchCategories};};","map":{"version":3,"names":["useState","useEffect","useCallback","AssetApi","ApiException","useAssets","initialFilters","data","setData","assets","total","page","pageSize","totalPages","loading","setLoading","error","setError","fetchAssets","filters","response","getAssets","err","message","refetch","useAsset","id","asset","setAsset","fetchAsset","getAsset","useCreateAsset","createAsset","useUpdateAsset","updateAsset","useDeleteAsset","deleteAsset","useCategories","categories","setCategories","fetchCategories","getCategories"],"sources":["C:/Users/amana/Desktop/s/frontend/src/hooks/useAssets.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\r\nimport { AssetApi } from \"../services/assetApi\";\r\nimport {\r\n  Asset,\r\n  CreateAssetRequest,\r\n  UpdateAssetRequest,\r\n  AssetListResponse,\r\n  AssetFilters,\r\n  ApiException,\r\n} from \"../types\";\r\n\r\nexport interface UseAssetsResult {\r\n  assets: Asset[];\r\n  total: number;\r\n  page: number;\r\n  pageSize: number;\r\n  totalPages: number;\r\n  loading: boolean;\r\n  error: string | null;\r\n  refetch: (filters?: AssetFilters) => Promise<void>;\r\n}\r\n\r\n/**\r\n * Custom hook for managing asset list with filtering and pagination\r\n */\r\nexport const useAssets = (initialFilters?: AssetFilters): UseAssetsResult => {\r\n  const [data, setData] = useState<AssetListResponse>({\r\n    assets: [],\r\n    total: 0,\r\n    page: 1,\r\n    pageSize: 20,\r\n    totalPages: 0,\r\n  });\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchAssets = useCallback(async (filters?: AssetFilters) => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await AssetApi.getAssets(filters);\r\n      setData(response);\r\n    } catch (err) {\r\n      if (err instanceof ApiException) {\r\n        setError(err.message);\r\n      } else {\r\n        setError(\"Failed to fetch assets\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchAssets(initialFilters);\r\n  }, [fetchAssets, initialFilters]);\r\n\r\n  return {\r\n    assets: data.assets,\r\n    total: data.total,\r\n    page: data.page,\r\n    pageSize: data.pageSize,\r\n    totalPages: data.totalPages,\r\n    loading,\r\n    error,\r\n    refetch: fetchAssets,\r\n  };\r\n};\r\nexport interface UseAssetResult {\r\n  asset: Asset | null;\r\n  loading: boolean;\r\n  error: string | null;\r\n  refetch: () => Promise<void>;\r\n}\r\n\r\n/**\r\n * Custom hook for fetching a single asset by ID\r\n */\r\nexport const useAsset = (id: number): UseAssetResult => {\r\n  const [asset, setAsset] = useState<Asset | null>(null);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchAsset = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await AssetApi.getAsset(id);\r\n      setAsset(response);\r\n    } catch (err) {\r\n      if (err instanceof ApiException) {\r\n        setError(err.message);\r\n      } else {\r\n        setError(\"Failed to fetch asset\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      fetchAsset();\r\n    }\r\n  }, [fetchAsset, id]);\r\n\r\n  return {\r\n    asset,\r\n    loading,\r\n    error,\r\n    refetch: fetchAsset,\r\n  };\r\n};\r\n\r\nexport interface UseCreateAssetResult {\r\n  createAsset: (asset: CreateAssetRequest) => Promise<Asset | null>;\r\n  loading: boolean;\r\n  error: string | null;\r\n}\r\n\r\n/**\r\n * Custom hook for creating assets\r\n */\r\nexport const useCreateAsset = (): UseCreateAssetResult => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const createAsset = useCallback(\r\n    async (asset: CreateAssetRequest): Promise<Asset | null> => {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      try {\r\n        const response = await AssetApi.createAsset(asset);\r\n        return response;\r\n      } catch (err) {\r\n        if (err instanceof ApiException) {\r\n          setError(err.message);\r\n        } else {\r\n          setError(\"Failed to create asset\");\r\n        }\r\n        return null;\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  return {\r\n    createAsset,\r\n    loading,\r\n    error,\r\n  };\r\n};\r\n\r\nexport interface UseUpdateAssetResult {\r\n  updateAsset: (id: number, asset: UpdateAssetRequest) => Promise<Asset | null>;\r\n  loading: boolean;\r\n  error: string | null;\r\n}\r\n\r\n/**\r\n * Custom hook for updating assets\r\n */\r\nexport const useUpdateAsset = (): UseUpdateAssetResult => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const updateAsset = useCallback(\r\n    async (id: number, asset: UpdateAssetRequest): Promise<Asset | null> => {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      try {\r\n        const response = await AssetApi.updateAsset(id, asset);\r\n        return response;\r\n      } catch (err) {\r\n        if (err instanceof ApiException) {\r\n          setError(err.message);\r\n        } else {\r\n          setError(\"Failed to update asset\");\r\n        }\r\n        return null;\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  return {\r\n    updateAsset,\r\n    loading,\r\n    error,\r\n  };\r\n};\r\n\r\nexport interface UseDeleteAssetResult {\r\n  deleteAsset: (id: number) => Promise<boolean>;\r\n  loading: boolean;\r\n  error: string | null;\r\n}\r\n\r\n/**\r\n * Custom hook for deleting assets\r\n */\r\nexport const useDeleteAsset = (): UseDeleteAssetResult => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const deleteAsset = useCallback(async (id: number): Promise<boolean> => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      await AssetApi.deleteAsset(id);\r\n      return true;\r\n    } catch (err) {\r\n      if (err instanceof ApiException) {\r\n        setError(err.message);\r\n      } else {\r\n        setError(\"Failed to delete asset\");\r\n      }\r\n      return false;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  return {\r\n    deleteAsset,\r\n    loading,\r\n    error,\r\n  };\r\n};\r\n\r\nexport interface UseCategoriesResult {\r\n  categories: string[];\r\n  loading: boolean;\r\n  error: string | null;\r\n  refetch: () => Promise<void>;\r\n}\r\n\r\n/**\r\n * Custom hook for fetching asset categories\r\n */\r\nexport const useCategories = (): UseCategoriesResult => {\r\n  const [categories, setCategories] = useState<string[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchCategories = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await AssetApi.getCategories();\r\n      setCategories(response);\r\n    } catch (err) {\r\n      if (err instanceof ApiException) {\r\n        setError(err.message);\r\n      } else {\r\n        setError(\"Failed to fetch categories\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, [fetchCategories]);\r\n\r\n  return {\r\n    categories,\r\n    loading,\r\n    error,\r\n    refetch: fetchCategories,\r\n  };\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}