{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amana\\\\Desktop\\\\s\\\\frontend\\\\src\\\\components\\\\ConfirmDialog.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport \"./ConfirmDialog.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ConfirmDialog = ({\n  isOpen,\n  title,\n  message,\n  confirmText = \"Confirm\",\n  cancelText = \"Cancel\",\n  onConfirm,\n  onCancel,\n  isDestructive = false,\n  confirmVariant = \"primary\",\n  isConfirmLoading = false\n}) => {\n  _s();\n  const dialogRef = useRef(null);\n  const confirmButtonRef = useRef(null);\n  const previousFocusRef = useRef(null);\n\n  // Store the previously focused element and focus the confirm button when the dialog opens\n  useEffect(() => {\n    if (isOpen) {\n      // Store the currently focused element\n      previousFocusRef.current = document.activeElement;\n\n      // Focus the confirm button\n      if (confirmButtonRef.current) {\n        confirmButtonRef.current.focus();\n      }\n    } else if (previousFocusRef.current) {\n      // Restore focus when dialog closes\n      previousFocusRef.current.focus();\n    }\n  }, [isOpen]);\n\n  // Handle ESC key to close the dialog\n  useEffect(() => {\n    const handleEscape = event => {\n      if (isOpen && event.key === \"Escape\") {\n        onCancel();\n      }\n    };\n    document.addEventListener(\"keydown\", handleEscape);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscape);\n    };\n  }, [isOpen, onCancel]);\n\n  // Handle tab key to trap focus within the dialog\n  useEffect(() => {\n    const handleTabKey = event => {\n      if (!isOpen || !dialogRef.current) return;\n      const focusableElements = dialogRef.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');\n      if (focusableElements.length === 0) return;\n      const firstElement = focusableElements[0];\n      const lastElement = focusableElements[focusableElements.length - 1];\n\n      // If shift+tab and focus is on first element, move to last element\n      if (event.key === \"Tab\" && event.shiftKey && document.activeElement === firstElement) {\n        event.preventDefault();\n        lastElement.focus();\n      }\n      // If tab and focus is on last element, move to first element\n      else if (event.key === \"Tab\" && !event.shiftKey && document.activeElement === lastElement) {\n        event.preventDefault();\n        firstElement.focus();\n      }\n    };\n    document.addEventListener(\"keydown\", handleTabKey);\n    return () => {\n      document.removeEventListener(\"keydown\", handleTabKey);\n    };\n  }, [isOpen]);\n\n  // Prevent scrolling of the background when dialog is open\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = \"hidden\";\n    } else {\n      document.body.style.overflow = \"\";\n    }\n    return () => {\n      document.body.style.overflow = \"\";\n    };\n  }, [isOpen]);\n  if (!isOpen) return null;\n  const handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      onCancel();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"confirm-dialog-backdrop\",\n    onClick: handleBackdropClick,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"confirm-dialog\",\n      role: \"dialog\",\n      \"aria-modal\": \"true\",\n      \"aria-labelledby\": \"dialog-title\",\n      \"aria-describedby\": \"dialog-description\",\n      ref: dialogRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"confirm-dialog-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          id: \"dialog-title\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"confirm-dialog-body\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"dialog-description\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"confirm-dialog-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cancel-button\",\n          onClick: onCancel,\n          type: \"button\",\n          \"aria-label\": cancelText,\n          children: cancelText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `confirm-button ${confirmVariant === \"danger\" ? \"btn-danger\" : \"\"} ${isConfirmLoading ? \"btn-loading\" : \"\"}`,\n          onClick: onConfirm,\n          type: \"button\",\n          ref: confirmButtonRef,\n          \"aria-label\": confirmText,\n          disabled: isConfirmLoading,\n          children: confirmText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n};\n_s(ConfirmDialog, \"zAnYh8f77Cbsv7UTfhN4QGJoh8Q=\");\n_c = ConfirmDialog;\nexport default ConfirmDialog;\nvar _c;\n$RefreshReg$(_c, \"ConfirmDialog\");","map":{"version":3,"names":["React","useEffect","useRef","jsxDEV","_jsxDEV","ConfirmDialog","isOpen","title","message","confirmText","cancelText","onConfirm","onCancel","isDestructive","confirmVariant","isConfirmLoading","_s","dialogRef","confirmButtonRef","previousFocusRef","current","document","activeElement","focus","handleEscape","event","key","addEventListener","removeEventListener","handleTabKey","focusableElements","querySelectorAll","length","firstElement","lastElement","shiftKey","preventDefault","body","style","overflow","handleBackdropClick","e","target","currentTarget","className","onClick","children","role","ref","id","fileName","_jsxFileName","lineNumber","columnNumber","type","disabled","_c","$RefreshReg$"],"sources":["C:/Users/amana/Desktop/s/frontend/src/components/ConfirmDialog.tsx"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\nimport \"./ConfirmDialog.css\";\r\n\r\ninterface ConfirmDialogProps {\r\n  isOpen: boolean;\r\n  title: string;\r\n  message: string;\r\n  confirmText?: string;\r\n  cancelText?: string;\r\n  onConfirm: () => void;\r\n  onCancel: () => void;\r\n  isDestructive?: boolean;\r\n  confirmVariant?: \"primary\" | \"danger\";\r\n  isConfirmLoading?: boolean;\r\n}\r\n\r\nconst ConfirmDialog: React.FC<ConfirmDialogProps> = ({\r\n  isOpen,\r\n  title,\r\n  message,\r\n  confirmText = \"Confirm\",\r\n  cancelText = \"Cancel\",\r\n  onConfirm,\r\n  onCancel,\r\n  isDestructive = false,\r\n  confirmVariant = \"primary\",\r\n  isConfirmLoading = false,\r\n}) => {\r\n  const dialogRef = useRef<HTMLDivElement>(null);\r\n  const confirmButtonRef = useRef<HTMLButtonElement>(null);\r\n  const previousFocusRef = useRef<HTMLElement | null>(null);\r\n\r\n  // Store the previously focused element and focus the confirm button when the dialog opens\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      // Store the currently focused element\r\n      previousFocusRef.current = document.activeElement as HTMLElement;\r\n\r\n      // Focus the confirm button\r\n      if (confirmButtonRef.current) {\r\n        confirmButtonRef.current.focus();\r\n      }\r\n    } else if (previousFocusRef.current) {\r\n      // Restore focus when dialog closes\r\n      previousFocusRef.current.focus();\r\n    }\r\n  }, [isOpen]);\r\n\r\n  // Handle ESC key to close the dialog\r\n  useEffect(() => {\r\n    const handleEscape = (event: KeyboardEvent) => {\r\n      if (isOpen && event.key === \"Escape\") {\r\n        onCancel();\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", handleEscape);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleEscape);\r\n    };\r\n  }, [isOpen, onCancel]);\r\n\r\n  // Handle tab key to trap focus within the dialog\r\n  useEffect(() => {\r\n    const handleTabKey = (event: KeyboardEvent) => {\r\n      if (!isOpen || !dialogRef.current) return;\r\n\r\n      const focusableElements = dialogRef.current.querySelectorAll(\r\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\r\n      );\r\n\r\n      if (focusableElements.length === 0) return;\r\n\r\n      const firstElement = focusableElements[0] as HTMLElement;\r\n      const lastElement = focusableElements[\r\n        focusableElements.length - 1\r\n      ] as HTMLElement;\r\n\r\n      // If shift+tab and focus is on first element, move to last element\r\n      if (\r\n        event.key === \"Tab\" &&\r\n        event.shiftKey &&\r\n        document.activeElement === firstElement\r\n      ) {\r\n        event.preventDefault();\r\n        lastElement.focus();\r\n      }\r\n      // If tab and focus is on last element, move to first element\r\n      else if (\r\n        event.key === \"Tab\" &&\r\n        !event.shiftKey &&\r\n        document.activeElement === lastElement\r\n      ) {\r\n        event.preventDefault();\r\n        firstElement.focus();\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", handleTabKey);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleTabKey);\r\n    };\r\n  }, [isOpen]);\r\n\r\n  // Prevent scrolling of the background when dialog is open\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = \"hidden\";\r\n    } else {\r\n      document.body.style.overflow = \"\";\r\n    }\r\n\r\n    return () => {\r\n      document.body.style.overflow = \"\";\r\n    };\r\n  }, [isOpen]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleBackdropClick = (e: React.MouseEvent) => {\r\n    if (e.target === e.currentTarget) {\r\n      onCancel();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"confirm-dialog-backdrop\" onClick={handleBackdropClick}>\r\n      <div\r\n        className=\"confirm-dialog\"\r\n        role=\"dialog\"\r\n        aria-modal=\"true\"\r\n        aria-labelledby=\"dialog-title\"\r\n        aria-describedby=\"dialog-description\"\r\n        ref={dialogRef}\r\n      >\r\n        <div className=\"confirm-dialog-header\">\r\n          <h2 id=\"dialog-title\">{title}</h2>\r\n        </div>\r\n        <div className=\"confirm-dialog-body\">\r\n          <p id=\"dialog-description\">{message}</p>\r\n        </div>\r\n        <div className=\"confirm-dialog-actions\">\r\n          <button\r\n            className=\"cancel-button\"\r\n            onClick={onCancel}\r\n            type=\"button\"\r\n            aria-label={cancelText}\r\n          >\r\n            {cancelText}\r\n          </button>\r\n          <button\r\n            className={`confirm-button ${\r\n              confirmVariant === \"danger\" ? \"btn-danger\" : \"\"\r\n            } ${isConfirmLoading ? \"btn-loading\" : \"\"}`}\r\n            onClick={onConfirm}\r\n            type=\"button\"\r\n            ref={confirmButtonRef}\r\n            aria-label={confirmText}\r\n            disabled={isConfirmLoading}\r\n          >\r\n            {confirmText}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConfirmDialog;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}